"use strict";(self.webpackChunkyuni_q_blog=self.webpackChunkyuni_q_blog||[]).push([[220],{4420:function(e,n,t){t.r(n);var i=t(7294),l=t(2788);const o=l.default.div.withConfig({displayName:"apple__Body",componentId:"sc-750a55-0"})(["background:black;"]),a=l.default.div.withConfig({displayName:"apple__VideoWrapper",componentId:"sc-750a55-1"})(["display:flex;justify-content:center;align-items:center;overflow:hidden;position:fixed;top:0;left:0;width:100vw;height:100vh;"]),r=l.default.canvas.withConfig({displayName:"apple__Canvas",componentId:"sc-750a55-2"})(["position:fixed;top:0;left:0;"]),c=l.default.video.withConfig({displayName:"apple__Video",componentId:"sc-750a55-3"})(["transform:scale(1);"]);n.default=()=>{const e=(0,i.useRef)(null),n=(0,i.useRef)(null);return(0,i.useEffect)((()=>{let t,i=0,l=0,o=0,a=0,r=0,c=0,d=0,s=0,u=0;let f=0;const p=[{animationValue:{videoScale:[1,2],triangleMove:[0,200],rectangleMove:[0,500]}},{animationValue:{videoScale:[2,.3],triangleMove:[200,1e3],rectangleMove:[500,500]}}],m=document.body,h=e.current.getContext("2d"),g=()=>{i=window.innerWidth,l=window.innerHeight,s=0,f=.5*l,p.forEach((()=>{s+=l})),m.style.height=s+"px",e.current.width=o=2*i,e.current.height=a=2*l,e.current.style.width=i+"px",e.current.style.height=l+"px",y()},v=e=>c/f*(e[1]-e[0])+e[0],w=function(e,n,i){void 0===e&&(e=1),void 0===n&&(n=0),void 0===i&&(i=0),h.save(),h.translate(.5*(o-1380*e),.5*(a-3e3*e)),t&&h.drawImage(t,0,0,1380*e,3e3*e),h.restore(),h.fillStyle="black",h.beginPath(),h.moveTo(.5*o-1500,-n-1700),h.lineTo(.5*o,.5*a-150-n),h.lineTo(.5*o+1500,-n-1700),h.lineTo(.5*o-1500,-n-1700),h.fill(),h.closePath(),h.beginPath(),h.moveTo(.5*o-1500,a+n+1700),h.lineTo(.5*o,.5*a+150+n),h.lineTo(.5*o+1500,a+n+1700),h.lineTo(.5*o-1500,a+n+1700),h.fill(),h.closePath(),h.beginPath(),h.moveTo(.5*o-1700-n,-1700),h.lineTo(.5*o-130-n,.5*a),h.lineTo(.5*o-1700-n,a+1700),h.lineTo(.5*o-1700-n,-1700),h.fill(),h.closePath(),h.beginPath(),h.moveTo(.5*o+1700+n,-1700),h.lineTo(.5*o+130+n,.5*a),h.lineTo(.5*o+1700+n,a+1700),h.lineTo(.5*o+1700+n,-1700),h.fill(),h.closePath(),h.fillRect(0,.5*a-2600-i,o,2e3),h.fillRect(0,.5*a+600+i,o,2e3)},y=()=>{let e,t,i;p[u]&&(e=v(p[u].animationValue.videoScale),t=v(p[u].animationValue.triangleMove),i=v(p[u].animationValue.rectangleMove),n.current.style.transform="scale("+e+")",h.clearRect(0,0,o,a),w(e,t,i))},T=()=>{r=window.pageYOffset,r<0||r>s-l||(r>f+d?(d+=f,u++):r<d&&(d-=f,u--),c=r-d,y())};i=window.innerWidth,l=window.innerHeight,g(),y(),window.addEventListener("resize",(()=>{requestAnimationFrame(g)})),window.addEventListener("scroll",(()=>{requestAnimationFrame(T)})),t=document.createElement("img"),t.src="/phone.png",t.addEventListener("load",(function(){w()}))}),[]),i.createElement(o,null,i.createElement(a,null,i.createElement(c,{ref:n,muted:!0,playsInline:!0,autoPlay:!0,loop:!0,src:"https://images.apple.com/media/us/iphone-x/2017/01df5b43-28e4-4848-bf20-490c34a926a7/overview/primary/hero/large_2x.mp4"}),i.createElement(r,{ref:e})))}}}]);
//# sourceMappingURL=component---src-pages-apple-tsx-f9d3109878c8696fbc67.js.map